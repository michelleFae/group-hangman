:root{
  --bg: #EDE7F6; /* Soft lilac */
  --accent: #B39DDB; /* Lavender */
  --accent-2: #81D4FA; /* Sky blue */
  --highlight: #FFABAB; /* Peach pink */
  --text: #333333; /* Charcoal */
  --muted: #7b6f8a;
  --halo: rgba(255,171,171,0.28); /* Pulse halo color */
}

/* Full-page money theme when winner-by-hangmoney is selected */
body.money-theme-body {
  background: linear-gradient(180deg, #e8f5e9, #d0f0d6);
}

*{box-sizing:border-box}
body {
  font-family: 'Baloo 2', 'Poppins', system-ui, sans-serif;
  background: linear-gradient(180deg, var(--bg), #F7F3FB 80%);
  color: var(--text);
  padding: 28px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Subtle floating background blobs */
.body-decor {
  position: fixed; inset: 0; pointer-events: none; z-index: 0;
}
.blob {
  position: absolute; filter: blur(36px); opacity: .35; transform: translateZ(0);
}
.blob.l { width: 420px; height: 420px; background: var(--accent); left: -100px; top: -80px; border-radius: 50%; animation: floaty 8s ease-in-out infinite; }
.blob.r { width: 360px; height: 360px; background: var(--accent-2); right: -100px; bottom: -60px; border-radius: 50%; animation: floaty 10s ease-in-out infinite; }

@keyframes floaty {
  0% { transform: translateY(0) translateX(0) }
  50% { transform: translateY(18px) translateX(6px) }
  100% { transform: translateY(0) translateX(0) }
}

/* Cards and layout */
.lobby, .game-room { max-width: 980px; margin: 0 auto; position: relative; z-index: 1 }
.card { background: rgba(255,255,255,0.85); border: none; padding: 18px; margin: 16px 0; border-radius: 16px; box-shadow: 0 6px 18px rgba(99,79,130,0.08); transition: transform .22s cubic-bezier(.2,.9,.2,1), box-shadow .2s }
.card:hover { transform: translateY(-6px); box-shadow: 0 12px 28px rgba(99,79,130,0.12) }

/* Dimmed card state (used to indicate disabled/competing action) */
.card-dimmed { opacity: 0.6; pointer-events: none; filter: grayscale(30%); }

h1, h2, h3 { font-family: 'Baloo 2', 'Poppins', sans-serif; color: var(--text); margin: 0 0 12px 0 }
h1 { font-size: 36px }

input, button { font-family: inherit }
input { padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(0,0,0,0.06); outline: none; transition: box-shadow .12s, transform .12s }
input:focus { box-shadow: 0 6px 18px rgba(63,81,181,0.08); transform: translateY(-2px) }

button { padding: 10px 12px; background: linear-gradient(90deg,var(--accent),var(--accent-2)); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 6px 14px rgba(115,90,170,0.12); transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s }
button:hover { transform: translateY(-3px) }

/* Disabled button styles: grey, no hover, show not-allowed cursor */
button:disabled,
button[disabled] {
  background: linear-gradient(90deg, #e0e0e0, #d6d6d6);
  color: #777;
  box-shadow: none;
  cursor: not-allowed;
  transform: none;
}

/* helper class for Locked style in case logic uses class instead of disabled attribute */
.btn-locked {
  background: linear-gradient(90deg, #efefef, #e3e3e3);
  color: #777;
  cursor: not-allowed;
  pointer-events: none; /* prevent clicks */
  box-shadow: none;
}

/* Player circles */
.circle { display:flex; gap: 16px; flex-wrap:wrap; justify-content:center }
.player { width: 200px; border-radius: 16px; text-align: left; padding: 12px; background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.95)); box-shadow: 0 8px 20px rgba(103,80,145,0.06); transition: transform .18s }
.player:hover { transform: translateY(-6px) }
.avatar { width:56px; height:56px; border-radius:50%; background: linear-gradient(135deg,var(--highlight), #ffd1d1); display:inline-flex; align-items:center; justify-content:center; font-weight:800; color:var(--text); font-size:20px }
.meta { margin-left: 76px; margin-top: -56px }
.name { font-weight:700 }
.hangmoney { color: var(--accent-2); font-weight:700 }
.revealed { margin-top: 6px; color: var(--muted); font-size: 13px }

.turn-indicator { text-align:center; margin-bottom: 8px; font-weight:700; color:var(--accent); }

.room-password { margin: 12px 0; padding: 10px; border-radius: 12px; background: linear-gradient(90deg, rgba(179,157,219,0.12), rgba(129,212,250,0.08)); display:inline-block }

.victory-screen { text-align:center; padding: 36px; border-radius: 16px; background: linear-gradient(90deg, var(--accent-2), var(--accent)); color: white }
/* Confetti pieces for victory */
.victory-screen.confetti { position: relative; overflow: visible }
.confetti-piece { position: absolute; top: -10px; border-radius: 3px; opacity: 0.95; animation: confetti-drop 1.6s ease-in forwards }
@keyframes confetti-drop { 0% { transform: translateY(-20px) rotate(0deg); opacity: 0 } 20% { opacity: 1 } 100% { transform: translateY(320px) rotate(360deg); opacity: 1 } }

/* Sad screen for non-winners */
.victory-screen.sad { background: linear-gradient(90deg, #8E1B1B, #A52828); color: #ffecec }
.victory-screen.sad h1 { font-size: 36px }

.standings ol { padding-left: 18px; margin: 8px 0 }
.standings li { text-align: left }
.standings strong { font-size: 15px }
.standings li span { display:inline-block; width: 28px }

/* Modal overlay for host confirmation */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; z-index: 2000 }
.modal-dialog { width: 520px; max-width: 92%; padding: 18px; border-radius: 12px; color: var(--text); background: rgba(255,255,255,0.98); }
.modal-dialog button { color: inherit; }

.guessed-by-list li {
  display: flex;
  flex-wrap: wrap; /* allow wrapping but keep inline alignment */
  gap: 4px; /* optional spacing between label and names */
  margin-left: 0; /* remove default UL indentation */
}

.guessed-by-list li span {
  display: inline; /* ensure spans are inline, not block */
}

/* Hangxiety header */
.hangxiety-header { text-align: center; margin-bottom: 20px }
.hangxiety-title { font-size: 44px; letter-spacing: -1px; display:inline-block; background: linear-gradient(90deg,var(--accent),var(--accent-2)); -webkit-background-clip: text; background-clip: text; color: transparent; font-weight: 800 }
.hangxiety-title .bubble {
  display:inline-block;
  margin-left: 8px;
  transform-origin: 50% 50%;
  animation: bubble-bounce 1.6s cubic-bezier(.2,.9,.2,1) infinite;
  /* Explicit visible color so emoji renders correctly (overrides parent's transparent color) */
  color: var(--text);
  font-size: 0.95em;
  -webkit-background-clip: unset;
  background-clip: unset;
  /* subtle text shadow to help emoji stand out on gradients */
  text-shadow: 0 1px 0 rgba(255,255,255,0.6);
}
.hangxiety-tag { color: var(--muted); margin-top: 8px; font-size: 14px }

@keyframes bubble-bounce {
  0% { transform: translateY(0) rotate(0deg) }
  25% { transform: translateY(-6px) rotate(-6deg) }
  50% { transform: translateY(0) rotate(0deg) }
  75% { transform: translateY(-4px) rotate(6deg) }
  100% { transform: translateY(0) rotate(0deg) }
}

/* notice card */
.notice { border: 1px dashed rgba(0,0,0,0.06); background: linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.8)); padding: 12px; border-radius: 12px; text-align: center }
.notice h4 { margin: 0 0 6px 0 }

/* waiting pulse using CSS variable --halo */
@keyframes pulse-slow { 0% { box-shadow: 0 0 0 0 var(--halo) } 70% { box-shadow: 0 0 0 12px rgba(0,0,0,0) } 100% { box-shadow: 0 0 0 0 rgba(0,0,0,0) } }
.waiting-pulse { animation: none }
.waiting-pulse .avatar { animation: pulse-slow 1.8s infinite; }

/* glowing start button when ready */
.start-ready {
  box-shadow: 0 8px 30px rgba(179,157,219,0.28), 0 0 20px rgba(129,212,250,0.12) inset;
  animation: glow-pulse 1.6s ease-in-out infinite;
}

@keyframes glow-pulse {
  0% { transform: translateY(0); box-shadow: 0 8px 30px rgba(179,157,219,0.12), 0 0 6px rgba(129,212,250,0.06) inset }
  50% { transform: translateY(-3px); box-shadow: 0 18px 48px rgba(179,157,219,0.22), 0 0 18px rgba(129,212,250,0.12) inset }
  100% { transform: translateY(0); box-shadow: 0 8px 30px rgba(179,157,219,0.12), 0 0 6px rgba(129,212,250,0.06) inset }
}

/* timer bar */
.turn-timer { display:flex; align-items:center; gap:12px; margin: 12px 0 }
.turn-timer .bar { height: 10px; background: rgba(0,0,0,0.06); border-radius: 6px; flex:1; overflow:hidden }
.turn-timer .fill { height:100%; background: linear-gradient(90deg,var(--accent),var(--accent-2)); transition: width .2s linear }
.turn-timer .time { min-width:56px; text-align:right; font-weight:700 }

/* Toasts */
.toast-container { position: fixed; right: 18px; top: 18px; z-index: 9999; display:flex; flex-direction:column; gap:8px }
.toast { background: rgba(0,0,0,0.8); color: white; padding: 10px 14px; border-radius: 10px; font-weight:700; box-shadow: 0 8px 18px rgba(0,0,0,0.2); opacity: 0; transform: translateY(-6px); animation: toast-in .28s forwards }
@keyframes toast-in { to { opacity: 1; transform: translateY(0) } }

/* Multi-hit toast */
.multi-hit-toast { position: relative; overflow: visible; }
.multi-hit-toast .confetti-like { position: absolute; left: -8px; top: -24px; width: 12px; height: 12px; border-radius: 2px; animation: mh-fall 900ms ease-out forwards }
.multi-hit-toast .confetti-like:nth-child(1) { left: 6px; background: #FFD54F; transform: rotate(12deg) }
.multi-hit-toast .confetti-like:nth-child(2) { left: 34px; background: #FFABAB; transform: rotate(-6deg) }
.multi-hit-toast .confetti-like:nth-child(3) { left: 60px; background: #81D4FA; transform: rotate(18deg) }

@keyframes mh-fall { from { transform: translateY(-8px) rotate(0deg); opacity: 1 } to { transform: translateY(18px) rotate(45deg); opacity: 0 } }
/* Fade-out animation for toasts when being removed */
.toast.removing { animation: toast-out .9s forwards }
@keyframes toast-out { to { opacity: 0; transform: translateY(-8px) scale(.98) } }
/* player flash for penalty */
.player.flash-penalty { animation: flash-penalty 1s ease-in-out }
@keyframes flash-penalty { 0% { box-shadow: 0 0 0 rgba(255,0,0,0) } 10% { box-shadow: 0 0 18px rgba(255,0,0,0.6) } 50% { box-shadow: 0 0 10px rgba(255,0,0,0.24) } 100% { box-shadow: 0 0 0 rgba(255,0,0,0) } }

/* hangmoney decrement pulse */
.hangmoney.decrement { animation: hang-decrement 1s ease-in-out }
@keyframes hang-decrement { 0% { transform: translateY(0); color: var(--accent-2) } 30% { transform: translateY(-6px); color: #c62828 } 100% { transform: translateY(0); color: var(--accent-2) } }

/* brief pulse when hangmoney changes */
.hangmoney.pulse span {
  transform: scale(1.08);
  box-shadow: 0 8px 18px rgba(0,0,0,0.08);
}
.hangmoney.pulse span { transition: transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 220ms cubic-bezier(.2,.9,.2,1) }

/* ensure avatar background uses provided color gracefully */
.player .avatar { color: #333; box-shadow: 0 6px 18px rgba(0,0,0,0.06); display:inline-flex; align-items:center; justify-content:center }

/* small colored dot used in waiting lists */
.waiting-dot { display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:8px; vertical-align:middle; box-shadow: 0 2px 6px rgba(0,0,0,0.12) }

/* small screens */
@media (max-width:600px){ .player{ width: 100%; } .meta{ margin-left: 0; margin-top: 6px }}

/* small inline error text */
.small-error {
  color: #c62828; /* Material red 800 */
  font-size: 13px;
  margin-top: 8px;
}

/* Inline guess dialog used by PlayerCircle */
.guess-dialog { display:flex; flex-direction:column; position: relative; margin-top: 8px; padding: 10px; background: white; border-radius: 10px; box-shadow: 0 8px 18px rgba(0,0,0,0.06); }
.guess-dialog input { width: 200px }

/* Bottom submit bar used during the 'submit' phase and later for power-ups */
.submit-bar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 12px;
  margin: 0 auto;
  max-width: 980px;
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-radius: 14px;
  z-index: 999;
  background: linear-gradient(90deg, rgba(255,255,255,0.96), rgba(255,255,255,0.98));
  box-shadow: 0 10px 30px rgba(99,79,130,0.08);
}
.submit-bar .submit-left { display:flex; align-items:flex-start; gap:12px }
.submit-bar .submit-controls { display:flex; align-items:center; gap:8px }
.submit-bar input { width: 220px }
.submit-bar .notice { background: transparent; border: none; padding: 0 }

@media (max-width:700px) {
  .submit-bar { flex-direction: column; align-items: stretch; padding: 8px 12px }
  .submit-bar .submit-controls { justify-content: flex-end }
  .submit-bar input { width: 100% }
}

/* Starter bonus badge shown during submit waiting */
.starter-badge { display:inline-block; background: linear-gradient(90deg,#fff8e1,#fff3cd); color: #2e7d32; font-weight:700; margin-left:8px; padding: 2px 6px; border-radius: 8px; font-size: 12px; box-shadow: 0 4px 10px rgba(46,125,50,0.08) }

/* Name input required glow */
.name-input.required-glow { box-shadow: 0 0 12px rgba(255, 200, 80, 0.9); border-radius: 8px; border: 1px solid rgba(255,200,80,0.9); padding: 8px }

/* Join button glow/animation */
.join-btn.join-glow { animation: pulse 1.6s infinite; box-shadow: 0 8px 24px rgba(255,120,80,0.18); }
@keyframes pulse { 0% { transform: translateY(0) } 50% { transform: translateY(-3px) } 100% { transform: translateY(0) } }

/* Money theme: green background and subtle floating cash animation */
.money-theme { background: linear-gradient(180deg,#e8f5e9,#d0f0d6); color: #0b3d0b }
.money-theme .hangmoney { color: #1b5e20 }
.money-anim { position: absolute; pointer-events: none }
@keyframes cash-float { 0% { transform: translateY(0) rotate(0) } 50% { transform: translateY(-16px) rotate(-8deg) } 100% { transform: translateY(0) rotate(0) } }
.cash-piece { width: 18px; height: 10px; background: linear-gradient(90deg,#a5d6a7,#66bb6a); border-radius:3px; box-shadow: 0 2px 6px rgba(0,0,0,0.08); animation: cash-float 2.2s ease-in-out infinite }

/* header mode badge */
.mode-badge { background: rgba(255,255,255,0.95); box-shadow: 0 8px 22px rgba(0,0,0,0.08); border-radius: 12px }

/* adjust cash piece animation for confetti-like drop */
.victory-screen .cash-piece { width: 22px; height: 12px; border-radius: 3px; animation: cash-drop 1.6s ease-out forwards }
@keyframes cash-drop { 0% { transform: translateY(-20px) rotate(0deg); opacity: 0 } 20% { opacity: 1 } 100% { transform: translateY(260px) rotate(360deg); opacity: 1 } }

/* private hit chips (repeat letters for occurrences) */
.private-hit-chips { display:inline-flex; gap:6px; margin-left: 6px }
.hit-chip { background: #dff0d8; color: #1b5e20; padding: 4px 6px; border-radius: 6px; font-weight:700; box-shadow: 0 4px 10px rgba(27,94,32,0.06) }

/* Highlight the screen when it's the viewer's turn */
body.my-turn-body {
  transition: background-color 300ms ease, color 300ms ease;
  background-color: #222 !important; /* dark background to contrast */
  color: #f7f7f7 !important;
}

/* Invert some card-like UI elements when my-turn is active for better contrast */
body.my-turn-body .card,
body.my-turn-body .notice,
body.my-turn-body .toast,
body.my-turn-body .modal-dialog {
  background: rgba(255,255,255,0.06) !important;
  color: #fff !important;
  border-color: rgba(255,255,255,0.06) !important;
}

/* Slight emphasis on submit bar and player circles during turn */
body.my-turn-body .submit-bar { box-shadow: 0 10px 30px rgba(0,0,0,0.6) }
body.my-turn-body .player { box-shadow: 0 12px 30px rgba(0,0,0,0.6) }